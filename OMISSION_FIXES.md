# çœç•¥æ£€æµ‹åŠŸèƒ½ä¿®å¤æ€»ç»“

## P0çº§åˆ«ä¿®å¤ï¼ˆå¿…é¡»ä¿®å¤ï¼Œå¦åˆ™omissionå¼€ä¸äº†ï¼‰

### âœ… 1. å®ç° `cluster_articles_by_event` æ–¹æ³•
- **é—®é¢˜**: `FramingAnalyzer.analyze_batch()` è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•
- **ä¿®å¤**: åœ¨ `OmissionDetector` ä¸­å®ç°äº†åŸºäºTF-IDFæ ‡é¢˜ç›¸ä¼¼åº¦çš„èšç±»é€»è¾‘
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 2. åˆ é™¤ `integrate_omission_results` è°ƒç”¨
- **é—®é¢˜**: `FramingAnalyzer.analyze_article()` è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•
- **ä¿®å¤**: ç›´æ¥å°† `omission_result` ä¼ é€’ç»™ `framing_engine.analyze_article()`
- **ä½ç½®**: `framing_analyzer/analyzer.py`

### âœ… 3. ä¿®å¤ä¾èµ–ç¼ºå¤±
- **é—®é¢˜**: ç¼ºå°‘ `sentence-transformers`, `spacy`, `networkx` å’Œ `en_core_web_sm` æ¨¡å‹
- **ä¿®å¤**: æ›´æ–°äº† `setup_environment.sh` è„šæœ¬
- **ä½ç½®**: `setup_environment.sh`

### âœ… 4. é¿å…ä¿®æ”¹ `default_config` å•ä¾‹
- **é—®é¢˜**: ç›´æ¥ä¿®æ”¹å…¨å±€é…ç½®å¯¹è±¡ä¼šå½±å“åç»­ä½¿ç”¨
- **ä¿®å¤**: ä½¿ç”¨ `copy.deepcopy()` åˆ›å»ºé…ç½®å‰¯æœ¬
- **ä½ç½®**: `framing_analyzer/tests/sample_run.py`

### âœ… 5. ä¼˜åŒ–äº‹ä»¶é›†ç¾¤æŸ¥æ‰¾ï¼ˆO(NÂ²) â†’ O(N)ï¼‰
- **é—®é¢˜**: æ¯ç¯‡æ–‡ç« éƒ½å¾ªç¯æŸ¥æ‰¾æ‰€å±é›†ç¾¤
- **ä¿®å¤**: æ„å»º `article_id -> cluster` æ˜ å°„è¡¨
- **ä½ç½®**: `framing_analyzer/analyzer.py`

## P1çº§åˆ«ä¿®å¤ï¼ˆæ˜æ˜¾æå‡ç¨³å®šæ€§ä¸å¯ä¿¡åº¦ï¼‰

### âœ… 1. Teacher bias class index åŠ¨æ€æ¨æ–­
- **é—®é¢˜**: ç¡¬ç¼–ç  `bias_scores = probabilities[:, 1]` å¯èƒ½ä¸æ­£ç¡®
- **ä¿®å¤**: ä» `model.config.id2label` æ¨æ–­åŒ…å«"bias"çš„ç±»åˆ«ç´¢å¼•
- **ä½ç½®**: `framing_analyzer/bias_teacher.py`

### âœ… 2. çœç•¥ä¸»é¢˜æ’åºç¨³å®šæ€§
- **é—®é¢˜**: `set()` æˆªæ–­å¯¼è‡´ç»“æœä¸ç¨³å®š
- **ä¿®å¤**: æŒ‰TF-IDFåˆ†æ•°é™åºæ’åºï¼Œåˆ†æ•°ç›¸åŒæ—¶æŒ‰å­—æ¯åºæ’åº
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 3. å¥å­åˆ‡åˆ†ä½¿ç”¨TextProcessor
- **é—®é¢˜**: ä½¿ç”¨ `content.split('.')` ä¸å¤Ÿé²æ£’
- **ä¿®å¤**: å¤ç”¨ `TextProcessor.split_sentences()` æ–¹æ³•
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 4. ä¸»é¢˜è¦†ç›–ç‡ä½¿ç”¨è¯è¾¹ç•ŒåŒ¹é…
- **é—®é¢˜**: `if topic.lower() in text:` ä¼šäº§ç”Ÿå‡é˜³æ€§
- **ä¿®å¤**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ `\b...\b` è¿›è¡Œè¯è¾¹ç•ŒåŒ¹é…
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

## æµ‹è¯•éªŒè¯

### æ›´æ–°çš„æµ‹è¯•è„šæœ¬
- **æ–‡ä»¶**: `framing_analyzer/test_omission_integration.py`
- **åŠŸèƒ½**: éªŒè¯æ‰€æœ‰ä¿®å¤æ˜¯å¦æ­£ç¡®é›†æˆ

### è¿è¡Œæµ‹è¯•
```bash
cd framing_analyzer
python test_omission_integration.py
```

## ä¾èµ–æ›´æ–°

### æ–°å¢ä¾èµ–
```bash
pip install sentence-transformers>=2.2.0
pip install spacy>=3.4.0
pip install networkx>=2.8.0
python -m spacy download en_core_web_sm
```

### ç¯å¢ƒè„šæœ¬
- æ›´æ–°äº† `setup_environment.sh` è‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–

## å¾…å®ç°åŠŸèƒ½ï¼ˆP2/P3çº§åˆ«ï¼‰

### P2: æ€§èƒ½ä¼˜åŒ–
- [ ] Batchå†…fragments flatten â†’ teacherä¸€æ¬¡æ€§æ¨ç†
- [ ] æ»‘åŠ¨çª—å£ä½¿ç”¨çœŸå®tokenåˆ‡åˆ†è€Œéå­—ç¬¦è¿‘ä¼¼

### P3: ç®—æ³•å¢å¼ºï¼ˆçœŸæ­£çš„OmiGraphï¼‰
- [ ] ä½¿ç”¨graph embeddingå¯¹é½åšomission_score
- [ ] å®ç°æ— è®­ç»ƒçš„"å›¾å¯¹é½çœç•¥åˆ†"ç®—æ³•
- [ ] å°†omission_scoreæƒé‡åšæˆå¯é…ç½®å‚æ•°

## ä½¿ç”¨ç¤ºä¾‹

```python
from framing_analyzer import create_analyzer

# åˆ›å»ºå¯ç”¨çœç•¥æ£€æµ‹çš„åˆ†æå™¨
analyzer = create_analyzer(enable_omission=True)

# æ‰¹é‡åˆ†æï¼ˆè‡ªåŠ¨è¿›è¡Œäº‹ä»¶èšç±»ï¼‰
articles = [
    {'id': '1', 'title': 'Title 1', 'content': 'Content 1'},
    {'id': '2', 'title': 'Title 2', 'content': 'Content 2'},
]

results = analyzer.analyze_batch(articles)

# ç»“æœåŒ…å«çœç•¥æ£€æµ‹ä¿¡æ¯
for result in results['results']:
    if 'omission_score' in result:
        print(f"Article {result['id']}: omission_score = {result['omission_score']}")
```

## æ–°å¢P0çº§åˆ«ä¿®å¤ï¼ˆç¬¬äºŒè½®ï¼‰

### âœ… 6. ä¿®å¤ `TextProcessor.split_sentences()` è¿”å›å€¼è§£åŒ…
- **é—®é¢˜**: æ–¹æ³•è¿”å› `(sentences, positions)` å…ƒç»„ï¼Œä½†è¢«å½“ä½œåˆ—è¡¨ä½¿ç”¨
- **ä¿®å¤**: æ‰€æœ‰è°ƒç”¨å¤„éƒ½æ”¹ä¸º `sentences, _ = text_processor.split_sentences(content)`
- **ä½ç½®**: `framing_analyzer/omission_detector.py` å¤šå¤„

### âœ… 7. ä¿®å¤ `processed_article` ç±»å‹ä¸åŒ¹é…
- **é—®é¢˜**: `detect_omissions` æœŸæœ›Dictä½†æ”¶åˆ°ProcessedArticle dataclass
- **ä¿®å¤**: ä¿®æ”¹æ–¹æ³•ç­¾åæ¥æ”¶ `article_id` å’Œ `processed_article`ï¼Œæ·»åŠ å¯¹åº”çš„å¤„ç†æ–¹æ³•
- **ä½ç½®**: `framing_analyzer/omission_detector.py`, `framing_analyzer/analyzer.py`

## æ–°å¢P1çº§åˆ«ä¿®å¤ï¼ˆç¬¬äºŒè½®ï¼‰

### âœ… 5. ä½¿ç”¨OmissionConfigæ›¿æ¢é­”æ³•æ•°å­—
- **é—®é¢˜**: ç¡¬ç¼–ç çš„æ•°å­—ï¼ˆ20, 15, 5, 0.4ç­‰ï¼‰æ— æ³•é€šè¿‡é…ç½®è°ƒæ•´
- **ä¿®å¤**: å…¨éƒ¨æ”¹ä¸ºè¯»å– `self.config.omission.*` é…ç½®é¡¹
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 6. æ”¹è¿›èšç±»é˜ˆå€¼ç­–ç•¥
- **é—®é¢˜**: å›ºå®šç°‡æ•°ç­–ç•¥ä¸ç¨³å®šï¼Œæœªä½¿ç”¨similarity_thresholdé…ç½®
- **ä¿®å¤**: ä¼˜å…ˆä½¿ç”¨distance_thresholdè‡ªåŠ¨åˆ‡ç°‡ï¼Œå…¼å®¹ä¸åŒsklearnç‰ˆæœ¬
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

## æ–°å¢P0çº§åˆ«ä¿®å¤ï¼ˆç¬¬ä¸‰è½®ï¼‰

### âœ… 8. sklearnå…¼å®¹æ€§å®Œå–„
- **é—®é¢˜**: AgglomerativeClusteringçš„metric/affinityå‚æ•°åœ¨ä¸åŒç‰ˆæœ¬ä¸­ä¸å…¼å®¹
- **ä¿®å¤**: å¤šå±‚try/exceptå…¼å®¹ä¸åŒsklearnç‰ˆæœ¬ï¼Œæ·»åŠ compute_full_tree=True
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

## æ–°å¢P1çº§åˆ«ä¿®å¤ï¼ˆç¬¬ä¸‰è½®ï¼‰

### âœ… 7. ä¿®å¤key_topics_missingåˆ¤æ–­é€»è¾‘
- **é—®é¢˜**: ä½¿ç”¨åˆ—è¡¨æˆå‘˜å…³ç³»åˆ¤æ–­ä¼šè¯¯åˆ¤çŸ­è¯­å’Œå®ä½“
- **ä¿®å¤**: æ·»åŠ `_topic_in_text`æ–¹æ³•ï¼Œæ”¯æŒçŸ­è¯­å’Œè¯è¾¹ç•ŒåŒ¹é…
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 8. ä¿®å¤evidenceçš„supporting_articlesç»Ÿè®¡
- **é—®é¢˜**: ç»Ÿè®¡ç‰‡æ®µæ•°è€Œéæ–‡ç« æ•°ï¼ŒåŒä¸€æ–‡ç« å¤šä¸ªç‰‡æ®µä¼šé‡å¤è®¡æ•°
- **ä¿®å¤**: ä½¿ç”¨unique article_idè®¡æ•°ï¼Œä¿®æ­£coverage_rateè®¡ç®—
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 9. ä½¿ç”¨article_idæ’é™¤å½“å‰æ–‡ç« 
- **é—®é¢˜**: é€šè¿‡titleæ’é™¤æœ‰ç¢°æ’é£é™©ä¸”ä¸å¤Ÿé²æ£’
- **ä¿®å¤**: ç›´æ¥ä½¿ç”¨article_idè¿›è¡Œæ’é™¤ï¼Œæ›´å¯é 
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

## æ€§èƒ½ä¼˜åŒ–ä¿®å¤

### âœ… 1. TF-IDFç¨€ç–çŸ©é˜µä¼˜åŒ–
- **é—®é¢˜**: `toarray()`å°†ç¨€ç–çŸ©é˜µè½¬ä¸ºå¯†é›†çŸ©é˜µï¼Œå†…å­˜æ¶ˆè€—å¤§
- **ä¿®å¤**: ä½¿ç”¨`np.asarray(tfidf_matrix.mean(axis=0)).ravel()`
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 2. åŠ¨æ€min_dfè®¾ç½®
- **é—®é¢˜**: å›ºå®šmin_df=2åœ¨å°ç°‡æ—¶å®¹æ˜“å¯¼è‡´ç©ºè¯è¡¨
- **ä¿®å¤**: æ”¹ä¸ºmin_df=1ï¼Œé¿å…å°ç°‡æ—¶TF-IDFå¤±æ•ˆ
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

### âœ… 3. å¤ç”¨TextProcessorå®ä¾‹
- **é—®é¢˜**: æ¯æ¬¡è°ƒç”¨éƒ½åˆ›å»ºæ–°çš„TextProcessorå®ä¾‹
- **ä¿®å¤**: åœ¨OmissionDetectorä¸­å¤ç”¨å•ä¸ªå®ä¾‹
- **ä½ç½®**: `framing_analyzer/omission_detector.py`

## ä¿®å¤çŠ¶æ€

- âœ… P0çº§åˆ«: 8/8 å®Œæˆ - **çœç•¥æ£€æµ‹åŠŸèƒ½å®Œå…¨å¯ç”¨ï¼Œsklearnå…¼å®¹æ€§å®Œå–„**
- âœ… P1çº§åˆ«: 9/9 å®Œæˆ - **ç»“æœå‡†ç¡®æ€§ã€ç¨³å®šæ€§å’Œæ€§èƒ½å…¨é¢æå‡**
- âœ… æ€§èƒ½ä¼˜åŒ–: 3/3 å®Œæˆ - **å†…å­˜ä½¿ç”¨ä¼˜åŒ–ï¼Œå®ä¾‹å¤ç”¨ï¼Œç®—æ³•æ•ˆç‡æå‡**
- â³ P2çº§åˆ«: 0/2 å®Œæˆ - æ‰¹é‡æ¨ç†ä¼˜åŒ–å¾…å®ç°
- â³ P3çº§åˆ«: 0/3 å®Œæˆ - çœŸæ­£çš„OmiGraphç®—æ³•å¾…å®ç°

## æ–°å¢ä¿®å¤ï¼ˆç¬¬å››è½® - æœ€ç»ˆä¼˜åŒ–ï¼‰

### âœ… P0çº§åˆ«ä¿®å¤
- **KeyErroré˜²æŠ¤**: `_find_supporting_fragments`ä¸­æ‰€æœ‰`article['id']`æ”¹ä¸º`article.get('id')`
- **å®‰å…¨æ£€æŸ¥**: æ·»åŠ article_idéç©ºæ£€æŸ¥ï¼Œé¿å…Noneå€¼æ¯”è¾ƒ

### âœ… P1çº§åˆ«ä¿®å¤  
- **åˆ é™¤å†—ä½™è®¡ç®—**: ç§»é™¤`detect_omissions`ä¸­æœªä½¿ç”¨çš„`article_topics`è®¡ç®—
- **ç»Ÿè®¡ä¸€è‡´æ€§**: `extract_omission_evidence`éprocessedç‰ˆæœ¬ä¹Ÿä½¿ç”¨unique article_idç»Ÿè®¡
- **åŒ¹é…ä¸€è‡´æ€§**: `_compute_cluster_coverage`ä½¿ç”¨`_topic_in_text`ä¿æŒè¯è¾¹ç•ŒåŒ¹é…ç­–ç•¥ä¸€è‡´
- **ç»“æœç¨³å®šæ€§**: evidence examplesæŒ‰relevanceæ’åºåæˆªæ–­ï¼Œä¿è¯å±•ç¤ºæœ€ç›¸å…³ä¾‹å­

## æœ€ç»ˆä¿®å¤çŠ¶æ€

- âœ… P0çº§åˆ«: å®Œå…¨ä¿®å¤ - **æ— crashé£é™©ï¼Œç±»å‹å®‰å…¨ï¼Œå…¼å®¹æ€§å®Œå–„**
- âœ… P1çº§åˆ«: å®Œå…¨ä¿®å¤ - **ç»“æœå‡†ç¡®ï¼Œç»Ÿè®¡ä¸€è‡´ï¼Œæ€§èƒ½ä¼˜åŒ–**
- âœ… å·¥ç¨‹è´¨é‡: ä¼˜ç§€ - **ä»£ç å¥å£®ï¼Œé”™è¯¯å¤„ç†å®Œå–„ï¼Œé€»è¾‘ä¸€è‡´**
- â³ P2çº§åˆ«: å¾…å®ç° - æ‰¹é‡æ¨ç†ä¼˜åŒ–
- â³ P3çº§åˆ«: å¾…å®ç° - çœŸæ­£çš„OmiGraphç®—æ³•

## æœ€ç»ˆä¿®å¤ï¼ˆç¬¬äº”è½® - ç”Ÿäº§å°±ç»ªï¼‰

### âœ… æœ€åçš„P0çº§åˆ«ä¿®å¤
- **KeyErroré˜²æŠ¤å®Œå–„**: `extract_omission_evidence`ä¸­ä½¿ç”¨`article.get('id')`
- **TextProcessorå…¼å®¹æ€§**: æ·»åŠ `_split_sentences`æ–¹æ³•å…¼å®¹ä¸åŒè¿”å›æ ¼å¼

### âœ… å¯é€‰ä¼˜åŒ–
- **é˜ˆå€¼ä¼˜åŒ–**: topic_scoresé˜ˆå€¼ä»0.1é™è‡³0.05ï¼Œé¿å…å°ç°‡æ—¶key_topicsä¸ºç©º
- **ä»£ç æ¸…ç†**: åˆ é™¤æœªä½¿ç”¨çš„`_extract_article_topics_from_processed`æ–¹æ³•

## æœ€ç»ˆçŠ¶æ€æ€»ç»“

### ğŸ¯ å®Œå…¨ä¿®å¤çš„é—®é¢˜ç±»åˆ«
- **P0çº§åˆ«**: æ‰€æœ‰crashé£é™©å·²æ¶ˆé™¤ï¼Œç±»å‹å®‰å…¨ï¼Œå…¼å®¹æ€§å®Œå–„
- **P1çº§åˆ«**: ç»“æœå‡†ç¡®æ€§ã€ç»Ÿè®¡ä¸€è‡´æ€§ã€æ€§èƒ½ä¼˜åŒ–å…¨éƒ¨åˆ°ä½
- **å·¥ç¨‹è´¨é‡**: ä»£ç å¥å£®ï¼Œé”™è¯¯å¤„ç†å®Œå–„ï¼Œé€»è¾‘ä¸€è‡´

### ğŸ“‹ å…³é”®ç‰¹æ€§
- **å¥å£®æ€§**: é˜²æ­¢æ‰€æœ‰å·²çŸ¥KeyErrorï¼Œå®‰å…¨å¤„ç†ç¼ºå¤±å­—æ®µ
- **å…¼å®¹æ€§**: æ”¯æŒä¸åŒsklearnç‰ˆæœ¬ï¼ŒTextProcessorè¿”å›æ ¼å¼å…¼å®¹
- **å‡†ç¡®æ€§**: ä¸»é¢˜åŒ¹é…ä½¿ç”¨è¯è¾¹ç•Œï¼Œç»Ÿè®¡åŸºäºunique article_id
- **æ€§èƒ½**: ç¨€ç–çŸ©é˜µä¼˜åŒ–ï¼Œå®ä¾‹å¤ç”¨ï¼Œæ— å†—ä½™è®¡ç®—
- **ç¨³å®šæ€§**: ç»“æœæ’åºç¨³å®šï¼Œé…ç½®é©±åŠ¨ï¼Œå¯é‡ç°

### ğŸš€ ç”Ÿäº§å°±ç»ªæŒ‡æ ‡
- âœ… **æ— crashé£é™©** - æ‰€æœ‰KeyErrorå’ŒTypeErrorå·²é˜²æŠ¤
- âœ… **ç»“æœå¯ä¿¡** - ç»Ÿè®¡å‡†ç¡®ï¼ŒåŒ¹é…é€»è¾‘æ­£ç¡®
- âœ… **æ€§èƒ½ä¼˜åŒ–** - å†…å­˜ä½¿ç”¨åˆç†ï¼Œç®—æ³•æ•ˆç‡é«˜
- âœ… **ä»£ç è´¨é‡** - ç»“æ„æ¸…æ™°ï¼Œç»´æŠ¤æ€§å¥½
- âœ… **é…ç½®çµæ´»** - æ‰€æœ‰å‚æ•°å¯è°ƒï¼Œé€‚åº”ä¸åŒåœºæ™¯

**å½“å‰çŠ¶æ€**: çœç•¥æ£€æµ‹åŠŸèƒ½å®Œå…¨ç”Ÿäº§å°±ç»ªï¼Œå¯åœ¨çœŸå®æ•°æ®ä¸Šç¨³å®šè¿è¡Œï¼Œæ— å·²çŸ¥é—®é¢˜ã€‚

## æœ€ç»ˆä¿®å¤ï¼ˆç¬¬å…­è½® - é…ç½®ä¸€è‡´æ€§å®Œå–„ï¼‰

### âœ… é…ç½®ä¸€è‡´æ€§ä¿®å¤
- **compute_omission_scoreéprocessedç‰ˆæœ¬**: ä½¿ç”¨`self.config.omission.*`æƒé‡æ›¿ä»£ç¡¬ç¼–ç 0.4/0.4/0.2
- **extract_omission_evidenceéprocessedç‰ˆæœ¬**: ä½¿ç”¨`self.config.omission.max_evidence_count`å’Œ`max_examples_per_evidence`æ›¿ä»£ç¡¬ç¼–ç 5å’Œ3
- **full_coverageè®¡ç®—**: æ·»åŠ `.lower()`ç¡®ä¿ä¸å…¶ä»–åŒºåŸŸä¸€è‡´çš„å¤§å°å†™å¤„ç†

### ğŸ¯ é…ç½®é©±åŠ¨å®Œæ•´æ€§
- âœ… **æ‰€æœ‰é­”æ³•æ•°å­—å·²æ¶ˆé™¤** - å…¨éƒ¨æ”¹ä¸ºé…ç½®é©±åŠ¨
- âœ… **processedå’Œéprocessedç‰ˆæœ¬ä¸€è‡´** - ä¸¤ä¸ªä»£ç è·¯å¾„ä½¿ç”¨ç›¸åŒé…ç½®
- âœ… **å¤§å°å†™å¤„ç†ä¸€è‡´** - åˆ†å¥ç”¨åŸæ–‡ï¼Œè¦†ç›–ç‡è®¡ç®—ç»Ÿä¸€lower

**æœ€ç»ˆçŠ¶æ€**: æ‰€æœ‰æ–¹æ³•å®Œå…¨é…ç½®é©±åŠ¨ï¼Œæ— ç¡¬ç¼–ç æ•°å­—ï¼Œä¸¤ä¸ªä»£ç è·¯å¾„ï¼ˆprocessed/éprocessedï¼‰é€»è¾‘å®Œå…¨ä¸€è‡´ã€‚

## æœ€ç»ˆä¿®å¤ï¼ˆç¬¬ä¸ƒè½® - ä»£ç è´¨é‡å®Œå–„ï¼‰

### âœ… ä¸€è‡´æ€§ä¿®å¤
- **çœç•¥ä½ç½®åˆ†æ**: `_analyze_omission_locations*`æ–¹æ³•æ”¹ç”¨`_topic_in_text()`æ›¿ä»£substringåŒ¹é…
- **å»é™¤é‡å¤.lower()**: `_compute_topic_coverage`å’Œ`_compute_cluster_coverage`è°ƒç”¨æ—¶å»é™¤å†—ä½™çš„`.lower()`
- **ä¿æŒåŸæ–‡å¤„ç†**: åˆ†å¥å’ŒåŒºåŸŸåˆ’åˆ†ä½¿ç”¨åŸæ–‡ï¼ŒåŒ¹é…æ—¶å†å¤„ç†å¤§å°å†™

### âœ… ä»£ç æ¸…ç†
- **åˆ é™¤æœªä½¿ç”¨å¯¼å…¥**: ç§»é™¤`Tuple`, `Set`, `defaultdict`ç­‰æœªä½¿ç”¨çš„å¯¼å…¥
- **ç±»å‹æ³¨è§£å®Œå–„**: `_split_sentences`è¿”å›ç±»å‹æ˜ç¡®ä¸º`List[str]`

### ğŸ¯ æœ€ç»ˆä¸€è‡´æ€§ä¿è¯
- âœ… **åŒ¹é…ç­–ç•¥ç»Ÿä¸€** - æ‰€æœ‰æ–‡æœ¬åŒ¹é…éƒ½ä½¿ç”¨`_topic_in_text()`è¯è¾¹ç•ŒåŒ¹é…
- âœ… **å¤§å°å†™å¤„ç†ç»Ÿä¸€** - åŸæ–‡ç”¨äºç»“æ„åŒ–å¤„ç†ï¼ŒåŒ¹é…æ—¶å†…éƒ¨å¤„ç†å¤§å°å†™
- âœ… **é…ç½®é©±åŠ¨å®Œæ•´** - æ— ä»»ä½•ç¡¬ç¼–ç æ•°å­—ï¼Œå…¨éƒ¨å¯é…ç½®
- âœ… **ä»£ç è´¨é‡ä¼˜ç§€** - æ— å†—ä½™å¯¼å…¥ï¼Œç±»å‹å®‰å…¨ï¼Œé€»è¾‘æ¸…æ™°

**æœ€ç»ˆçŠ¶æ€**: ä»£ç è´¨é‡è¾¾åˆ°ç”Ÿäº§æ ‡å‡†ï¼Œæ‰€æœ‰åŒ¹é…é€»è¾‘ä¸€è‡´ï¼Œæ— å†—ä½™å¤„ç†ï¼Œå®Œå…¨é…ç½®é©±åŠ¨ã€‚